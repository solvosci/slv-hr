<?xml version="1.0" encoding="utf-8"?>

<odoo>

    <record id="hr_attendance.hr_attendance_action" model="ir.actions.act_window">
        <field name="context">{"search_default_this_week": 1} </field>
    </record>

    <record id="hr_attendance.hr_attendance_report_action" model="ir.actions.act_window">
        <field name="context">{"search_default_this_week": 1} </field>
    </record>

    <record id="hr_attendance_menu_filter_search_inherit" model="ir.ui.view">
        <field name="name">hr.attendance.search (Hr Attendance Menu Filter)</field>
        <field name="model">hr.attendance</field>
        <field name="inherit_id" ref="hr_attendance.hr_attendance_view_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//search//filter[@name='myattendances']" position="after">
                <separator />
                <filter name="today" string="Today" domain="[
                ('check_in','&lt;=',time.strftime('%Y-%m-%d 23:59:59')),
                ('check_in','&gt;=',time.strftime('%Y-%m-%d 00:00:00'))]" />
                <filter name="yesterday" string="Yesterday" domain="[
                ('check_in','&gt;=', ((context_today()-datetime.timedelta(days=1)).strftime('%Y-%m-%d 00:00:00'))),
                ('check_in','&lt;=', ((context_today()+datetime.timedelta(days=0)).strftime('%Y-%m-%d 00:00:00')))]" />
                <separator />
                <filter name="this_week" string="Week"  domain="[
                ('check_in', '>=', (context_today() + relativedelta(weeks=-1,days=1,weekday=0)).strftime('%Y-%m-%d 00:00:00')),
                ('check_in', '&lt;', (context_today() + relativedelta(days=1,weekday=0)).strftime('%Y-%m-%d 00:00:00'))]" />
                <filter name="last_week" string="Last Week" domain="[
                ('check_in', '>=', (context_today() + relativedelta(weeks=-2,days=1,weekday=0)).strftime('%Y-%m-%d 00:00:00')),
                ('check_in', '&lt;', (context_today() + relativedelta(weeks=-1,days=1,weekday=0)).strftime('%Y-%m-%d 00:00:00'))]" />
            </xpath>
        </field>
    </record>
    
    <record id="hr_attendance_menu_filter_search_pivot_inherit" model="ir.ui.view">
        <field name="name">hr.attendance.report.pivot (Hr Attendance Menu Filter)</field>
        <field name="model">hr.attendance.report</field>
        <field name="inherit_id" ref="hr_attendance.hr_attendance_report_view_search"/>
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='check_in']" position="after">
                <separator/>
                <filter name="today" string="Today" domain="[
                ('check_in','&lt;=',time.strftime('%Y-%m-%d 23:59:59')),
                ('check_in','&gt;=',time.strftime('%Y-%m-%d 00:00:00'))]" />
                <filter name="yesterday" string="Yesterday" domain="[
                ('check_in', '=', (context_today() - relativedelta(days=1)).strftime('%Y-%m-%d'))]"/>
                <separator/>
                <filter name="this_week" string="Week"  domain="[
                ('check_in', '>=', (context_today() + relativedelta(weeks=-1,days=1,weekday=0)).strftime('%Y-%m-%d 00:00:00')),
                ('check_in', '&lt;', (context_today() + relativedelta(days=1,weekday=0)).strftime('%Y-%m-%d 00:00:00'))]" />
                <filter name="last_week" string="Last Week" domain="[
                ('check_in', '>=', (context_today() + relativedelta(weeks=-2,days=1,weekday=0)).strftime('%Y-%m-%d 00:00:00')),
                ('check_in', '&lt;', (context_today() + relativedelta(weeks=-1,days=1,weekday=0)).strftime('%Y-%m-%d 00:00:00'))]" />
            </xpath>
        </field>
    </record>

</odoo>
